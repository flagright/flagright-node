/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as environments from "./environments";
import * as core from "./core";
import { Transactions } from "./api/resources/transactions/client/Client";
import { Batch } from "./api/resources/batch/client/Client";
import { TransactionEvents } from "./api/resources/transactionEvents/client/Client";
import { ConsumerUsers } from "./api/resources/consumerUsers/client/Client";
import { BusinessUsers } from "./api/resources/businessUsers/client/Client";
import { ConsumerUserEvents } from "./api/resources/consumerUserEvents/client/Client";
import { BusinessUserEvents } from "./api/resources/businessUserEvents/client/Client";

export declare namespace FlagrightClient {
    export interface Options {
        environment?: core.Supplier<environments.FlagrightEnvironment | string>;
        /** Specify a custom URL to connect the client to. */
        baseUrl?: core.Supplier<string>;
        apiKey: core.Supplier<string>;
    }

    export interface RequestOptions {
        /** The maximum time to wait for a response in seconds. */
        timeoutInSeconds?: number;
        /** The number of times to retry the request. Defaults to 2. */
        maxRetries?: number;
        /** A hook to abort the request. */
        abortSignal?: AbortSignal;
        /** Additional headers to include in the request. */
        headers?: Record<string, string>;
    }
}

export class FlagrightClient {
    protected _transactions: Transactions | undefined;
    protected _batch: Batch | undefined;
    protected _transactionEvents: TransactionEvents | undefined;
    protected _consumerUsers: ConsumerUsers | undefined;
    protected _businessUsers: BusinessUsers | undefined;
    protected _consumerUserEvents: ConsumerUserEvents | undefined;
    protected _businessUserEvents: BusinessUserEvents | undefined;

    constructor(protected readonly _options: FlagrightClient.Options) {}

    public get transactions(): Transactions {
        return (this._transactions ??= new Transactions(this._options));
    }

    public get batch(): Batch {
        return (this._batch ??= new Batch(this._options));
    }

    public get transactionEvents(): TransactionEvents {
        return (this._transactionEvents ??= new TransactionEvents(this._options));
    }

    public get consumerUsers(): ConsumerUsers {
        return (this._consumerUsers ??= new ConsumerUsers(this._options));
    }

    public get businessUsers(): BusinessUsers {
        return (this._businessUsers ??= new BusinessUsers(this._options));
    }

    public get consumerUserEvents(): ConsumerUserEvents {
        return (this._consumerUserEvents ??= new ConsumerUserEvents(this._options));
    }

    public get businessUserEvents(): BusinessUserEvents {
        return (this._businessUserEvents ??= new BusinessUserEvents(this._options));
    }
}
